(self.webpackChunkwikistats=self.webpackChunkwikistats||[]).push([[332],{349:(e,t,i)=>{!function(e,t,i,n){"use strict";e.isFunction=e.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.transition=function(){var t,a=e(this),o=a.selector||"",s=(new Date).getTime(),r=[],l=arguments,c=l[0],d=[].slice.call(arguments,1),u="string"==typeof c;return a.each(function(m){var h,g,p,f,v,b,y,w,C,_=e(this),x=this;C={initialize:function(){h=C.get.settings.apply(x,l),f=h.className,p=h.error,v=h.metadata,w="."+h.namespace,y="module-"+h.namespace,g=_.data(y)||C,b=C.get.animationEndEvent(),u&&(u=C.invoke(c)),!1===u&&(C.verbose("Converted arguments into settings object",h),h.interval?C.delay(h.animate):C.animate(),C.instantiate())},instantiate:function(){C.verbose("Storing instance of module",C),g=C,_.data(y,g)},destroy:function(){C.verbose("Destroying previous module for",x),_.removeData(y)},refresh:function(){C.verbose("Refreshing display type on next animation"),delete C.displayType},forceRepaint:function(){C.verbose("Forcing element repaint");var e=_.parent(),t=_.next();0===t.length?_.detach().appendTo(e):_.detach().insertBefore(t)},repaint:function(){C.verbose("Repainting element"),x.offsetWidth},delay:function(e){var t,i=C.get.animationDirection();i||(i=C.can.transition()?C.get.direction():"static"),e=e!==n?e:h.interval,t="auto"==h.reverse&&i==f.outward||1==h.reverse?(a.length-m)*h.interval:m*h.interval,C.debug("Delaying animation by",t),setTimeout(C.animate,t)},animate:function(e){if(h=e||h,!C.is.supported())return C.error(p.support),!1;if(C.debug("Preparing animation",h.animation),C.is.animating()){if(h.queue)return!h.allowRepeats&&C.has.direction()&&C.is.occurring()&&!0!==C.queuing?C.debug("Animation is currently occurring, preventing queueing same animation",h.animation):C.queue(h.animation),!1;if(!h.allowRepeats&&C.is.occurring())return C.debug("Animation is already occurring, will not execute repeated animation",h.animation),!1;C.debug("New animation started, completing previous early",h.animation),g.complete()}C.can.animate()?C.set.animating(h.animation):C.error(p.noAnimation,h.animation,x)},reset:function(){C.debug("Resetting animation to beginning conditions"),C.remove.animationCallbacks(),C.restore.conditions(),C.remove.animating()},queue:function(e){C.debug("Queueing animation of",e),C.queuing=!0,_.one(b+".queue"+w,function(){C.queuing=!1,C.repaint(),C.animate.apply(this,h)})},complete:function(e){e&&e.target===x&&e.stopPropagation(),C.debug("Animation complete",h.animation),C.remove.completeCallback(),C.remove.failSafe(),C.is.looping()||(C.is.outward()?(C.verbose("Animation is outward, hiding element"),C.restore.conditions(),C.hide()):C.is.inward()?(C.verbose("Animation is outward, showing element"),C.restore.conditions(),C.show()):(C.verbose("Static animation completed"),C.restore.conditions(),h.onComplete.call(x)))},force:{visible:function(){var e=_.attr("style"),t=C.get.userStyle(e),i=C.get.displayType(),n=t+"display: "+i+" !important;",a=_[0].style.display;return!i||"none"===a&&h.skipInlineHidden||_[0].tagName.match(/(script|link|style)/i)?(C.remove.transition(),!1):(C.verbose("Overriding default display to show element",i),_.attr("style",n),!0)},hidden:function(){var e=_.attr("style"),t=_.css("display"),i=e===n||""===e;"none"===t||C.is.hidden()?i&&_.removeAttr("style"):(C.verbose("Overriding default display to hide element"),_.css("display","none"))}},has:{direction:function(t){var i=!1;return"string"==typeof(t=t||h.animation)&&(t=t.split(" "),e.each(t,function(e,t){t!==f.inward&&t!==f.outward||(i=!0)})),i},inlineDisplay:function(){var e=_.attr("style")||"";return Array.isArray(e.match(/display.*?;/,""))}},set:{animating:function(e){C.remove.completeCallback(),e=e||h.animation;var t=C.get.animationClass(e);C.save.animation(t),C.force.visible()&&(C.remove.hidden(),C.remove.direction(),C.start.animation(t))},duration:function(e,t){((t="number"==typeof(t=t||h.duration)?t+"ms":t)||0===t)&&(C.verbose("Setting animation duration",t),_.css({"animation-duration":t}))},direction:function(e){(e=e||C.get.direction())==f.inward?C.set.inward():C.set.outward()},looping:function(){C.debug("Transition set to loop"),_.addClass(f.looping)},hidden:function(){_.addClass(f.transition).addClass(f.hidden)},inward:function(){C.debug("Setting direction to inward"),_.removeClass(f.outward).addClass(f.inward)},outward:function(){C.debug("Setting direction to outward"),_.removeClass(f.inward).addClass(f.outward)},visible:function(){_.addClass(f.transition).addClass(f.visible)}},start:{animation:function(e){e=e||C.get.animationClass(),C.debug("Starting tween",e),_.addClass(e).one(b+".complete"+w,C.complete),h.useFailSafe&&C.add.failSafe(),C.set.duration(h.duration),h.onStart.call(x)}},save:{animation:function(e){C.cache||(C.cache={}),C.cache.animation=e},displayType:function(e){"none"!==e&&_.data(v.displayType,e)},transitionExists:function(t,i){e.fn.transition.exists[t]=i,C.verbose("Saving existence of transition",t,i)}},restore:{conditions:function(){var e=C.get.currentAnimation();e&&(_.removeClass(e),C.verbose("Removing animation class",C.cache)),C.remove.duration()}},add:{failSafe:function(){var e=C.get.duration();C.timer=setTimeout(function(){_.triggerHandler(b)},e+h.failSafeDelay),C.verbose("Adding fail safe timer",C.timer)}},remove:{animating:function(){_.removeClass(f.animating)},animationCallbacks:function(){C.remove.queueCallback(),C.remove.completeCallback()},queueCallback:function(){_.off(".queue"+w)},completeCallback:function(){_.off(".complete"+w)},display:function(){_.css("display","")},direction:function(){_.removeClass(f.inward).removeClass(f.outward)},duration:function(){_.css("animation-duration","")},failSafe:function(){C.verbose("Removing fail safe timer",C.timer),C.timer&&clearTimeout(C.timer)},hidden:function(){_.removeClass(f.hidden)},visible:function(){_.removeClass(f.visible)},looping:function(){C.debug("Transitions are no longer looping"),C.is.looping()&&(C.reset(),_.removeClass(f.looping))},transition:function(){_.removeClass(f.transition).removeClass(f.visible).removeClass(f.hidden)}},get:{settings:function(t,i,n){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n,duration:i}):"string"==typeof i||"number"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,duration:i}):"object"==typeof i?e.extend({},e.fn.transition.settings,i,{animation:t}):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||h.animation,i=C.can.transition()&&!C.has.direction()?C.get.direction()+" ":"";return f.animating+" "+f.transition+" "+i+t},currentAnimation:function(){return!(!C.cache||C.cache.animation===n)&&C.cache.animation},currentDirection:function(){return C.is.inward()?f.inward:f.outward},direction:function(){return C.is.hidden()||!C.is.visible()?f.inward:f.outward},animationDirection:function(t){var i;return"string"==typeof(t=t||h.animation)&&(t=t.split(" "),e.each(t,function(e,t){t===f.inward?i=f.inward:t===f.outward&&(i=f.outward)})),i||!1},duration:function(e){return!1===(e=e||h.duration)&&(e=_.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(e){if(e=e===n||e,h.displayType)return h.displayType;if(e&&_.data(v.displayType)===n){var t=_.css("display");""===t||"none"===t?C.can.transition(!0):C.save.displayType(t)}return _.data(v.displayType)},userStyle:function(e){return(e=e||_.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e,t=i.createElement("div"),a={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in a)if(t.style[e]!==n)return a[e];return!1},animationEndEvent:function(){var e,t=i.createElement("div"),a={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in a)if(t.style[e]!==n)return a[e];return!1}},can:{transition:function(t){var i,a,o,s,r,l,c=h.animation,d=C.get.transitionExists(c),u=C.get.displayType(!1);if(d===n||t){if(C.verbose("Determining whether animation exists"),i=_.attr("class"),a=_.prop("tagName"),s=(o=e("<"+a+" />").addClass(i).insertAfter(_)).addClass(c).removeClass(f.inward).removeClass(f.outward).addClass(f.animating).addClass(f.transition).css("animationName"),r=o.addClass(f.inward).css("animationName"),u||(u=o.attr("class",i).removeAttr("style").removeClass(f.hidden).removeClass(f.visible).show().css("display"),C.verbose("Determining final display state",u),C.save.displayType(u)),o.remove(),s!=r)C.debug("Direction exists for animation",c),l=!0;else{if("none"==s||!s)return void C.debug("No animation defined in css",c);C.debug("Static animation found",c,u),l=!1}C.save.transitionExists(c,l)}return d!==n?d:l},animate:function(){return C.can.transition()!==n}},is:{animating:function(){return _.hasClass(f.animating)},inward:function(){return _.hasClass(f.inward)},outward:function(){return _.hasClass(f.outward)},looping:function(){return _.hasClass(f.looping)},occurring:function(e){return e="."+(e=e||h.animation).replace(" ","."),_.filter(e).length>0},visible:function(){return _.is(":visible")},hidden:function(){return"hidden"===_.css("visibility")},supported:function(){return!1!==b}},hide:function(){C.verbose("Hiding element"),C.is.animating()&&C.reset(),x.blur(),C.remove.display(),C.remove.visible(),e.isFunction(h.onBeforeHide)?h.onBeforeHide.call(x,function(){C.hideNow()}):C.hideNow()},hideNow:function(){C.set.hidden(),C.force.hidden(),h.onHide.call(x),h.onComplete.call(x)},show:function(e){C.verbose("Showing element",e),C.force.visible()&&(C.remove.hidden(),C.set.visible(),h.onShow.call(x),h.onComplete.call(x))},toggle:function(){C.is.visible()?C.hide():C.show()},stop:function(){C.debug("Stopping current animation"),_.triggerHandler(b)},stopAll:function(){C.debug("Stopping all animation"),C.remove.queueCallback(),_.triggerHandler(b)},clear:{queue:function(){C.debug("Clearing animation queue"),C.remove.queueCallback()}},enable:function(){C.verbose("Starting animation"),_.removeClass(f.disabled)},disable:function(){C.debug("Stopping animation"),_.addClass(f.disabled)},setting:function(t,i){if(C.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,h,t);else{if(i===n)return h[t];e.isPlainObject(h[t])?e.extend(!0,h[t],i):h[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(i===n)return C[t];C[t]=i}},debug:function(){!h.silent&&h.debug&&(h.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,h.name+":"),C.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),C.verbose.apply(console,arguments)))},error:function(){h.silent||(C.error=Function.prototype.bind.call(console.error,console,h.name+":"),C.error.apply(console,arguments))},performance:{log:function(e){var t,i;h.performance&&(i=(t=(new Date).getTime())-(s||t),s=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:x,"Execution Time":i})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var t=h.name+":",i=0;s=!1,clearTimeout(C.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",o&&(t+=" '"+o+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==n||console.table!==n)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(i,a,o){var s,r,l,c=g;return a=a||d,o=x||o,"string"==typeof i&&c!==n&&(i=i.split(/[\. ]/),s=i.length-1,e.each(i,function(t,a){var o=t!=s?a+i[t+1].charAt(0).toUpperCase()+i[t+1].slice(1):i;if(e.isPlainObject(c[o])&&t!=s)c=c[o];else{if(c[o]!==n)return r=c[o],!1;if(!e.isPlainObject(c[a])||t==s)return c[a]!==n&&(r=c[a],!1);c=c[a]}})),e.isFunction(r)?l=r.apply(o,a):r!==n&&(l=r),Array.isArray(t)?t.push(l):t!==n?t=[t,l]:l!==n&&(t=l),r!==n&&r}},C.initialize()}),t!==n?t:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,skipInlineHidden:!1,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(i(4692),window,document)},2320:(e,t,i)=>{!function(e,t,i,n){"use strict";e.isFunction=e.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.dimmer=function(t){var a,o=e(this),s=(new Date).getTime(),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1);return o.each(function(){var u,m,h,g=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),p=g.selector,f=g.namespace,v=g.className,b=g.error,y="."+f,w="module-"+f,C=o.selector||"",_="ontouchstart"in i.documentElement?"touchstart":"click",x=e(this),M=this,k=x.data(w);h={preinitialize:function(){h.is.dimmer()?(m=x.parent(),u=x):(m=x,u=h.has.dimmer()?g.dimmerName?m.find(p.dimmer).filter("."+g.dimmerName):m.find(p.dimmer):h.create())},initialize:function(){h.debug("Initializing dimmer",g),h.bind.events(),h.set.dimmable(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),k=h,x.data(w,k)},destroy:function(){h.verbose("Destroying previous module",u),h.unbind.events(),h.remove.variation(),m.off(y)},bind:{events:function(){"hover"==g.on?m.on("mouseenter"+y,h.show).on("mouseleave"+y,h.hide):"click"==g.on&&m.on(_+y,h.toggle),h.is.page()&&(h.debug("Setting as a page dimmer",m),h.set.pageDimmer()),h.is.closable()&&(h.verbose("Adding dimmer close event",u),m.on(_+y,p.dimmer,h.event.click))}},unbind:{events:function(){x.removeData(w),m.off(y)}},event:{click:function(t){h.verbose("Determining if event occurred on dimmer",t),(0===u.find(t.target).length||e(t.target).is(p.content))&&(h.hide(),t.stopImmediatePropagation())}},addContent:function(t){var i=e(t);h.debug("Add content to dimmer",i),i.parent()[0]!==u[0]&&i.detach().appendTo(u)},create:function(){var t=e(g.template.dimmer(g));return g.dimmerName&&(h.debug("Creating named dimmer",g.dimmerName),t.addClass(g.dimmerName)),t.appendTo(m),t},show:function(t){t=e.isFunction(t)?t:function(){},h.debug("Showing dimmer",u,g),h.set.variation(),h.is.dimmed()&&!h.is.animating()||!h.is.enabled()?h.debug("Dimmer is already shown or disabled"):(h.animate.show(t),g.onShow.call(M),g.onChange.call(M))},hide:function(t){t=e.isFunction(t)?t:function(){},h.is.dimmed()||h.is.animating()?(h.debug("Hiding dimmer",u),h.animate.hide(t),g.onHide.call(M),g.onChange.call(M)):h.debug("Dimmer is not visible")},toggle:function(){h.verbose("Toggling dimmer visibility",u),h.is.dimmed()?h.is.closable()&&h.hide():h.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},g.useCSS&&e.fn.transition!==n&&u.transition("is supported")?(g.useFlex?(h.debug("Using flex dimmer"),h.remove.legacy()):(h.debug("Using legacy non-flex dimmer"),h.set.legacy()),"auto"!==g.opacity&&h.set.opacity(),u.transition({displayType:g.useFlex?"flex":"block",animation:(g.transition.showMethod||g.transition)+" in",queue:!1,duration:h.get.duration(),useFailSafe:!0,onStart:function(){h.set.dimmed()},onComplete:function(){h.set.active(),t()}})):(h.verbose("Showing dimmer animation with javascript"),h.set.dimmed(),"auto"==g.opacity&&(g.opacity=.8),u.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(h.get.duration(),g.opacity,function(){u.removeAttr("style"),h.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},g.useCSS&&e.fn.transition!==n&&u.transition("is supported")?(h.verbose("Hiding dimmer with css"),u.transition({displayType:g.useFlex?"flex":"block",animation:(g.transition.hideMethod||g.transition)+" out",queue:!1,duration:h.get.duration(),useFailSafe:!0,onComplete:function(){h.remove.dimmed(),h.remove.variation(),h.remove.active(),t()}})):(h.verbose("Hiding dimmer with javascript"),u.stop().fadeOut(h.get.duration(),function(){h.remove.dimmed(),h.remove.active(),u.removeAttr("style"),t()}))}},get:{dimmer:function(){return u},duration:function(){return h.is.active()?g.transition.hideDuration||g.duration.hide||g.duration:g.transition.showDuration||g.duration.show||g.duration}},has:{dimmer:function(){return g.dimmerName?x.find(p.dimmer).filter("."+g.dimmerName).length>0:x.find(p.dimmer).length>0}},is:{active:function(){return u.hasClass(v.active)},animating:function(){return u.is(":animated")||u.hasClass(v.animating)},closable:function(){return"auto"==g.closable?"hover"!=g.on:g.closable},dimmer:function(){return x.hasClass(v.dimmer)},dimmable:function(){return x.hasClass(v.dimmable)},dimmed:function(){return m.hasClass(v.dimmed)},disabled:function(){return m.hasClass(v.disabled)},enabled:function(){return!h.is.disabled()},page:function(){return m.is("body")},pageDimmer:function(){return u.hasClass(v.pageDimmer)}},can:{show:function(){return!u.hasClass(v.disabled)}},set:{opacity:function(e){var t=u.css("background-color"),i=t.split(","),n=i&&i.length>=3;e=0===g.opacity?0:g.opacity||e,n?(i[2]=i[2].replace(")",""),i[3]=e+")",t=i.join(",")):t="rgba(0, 0, 0, "+e+")",h.debug("Setting opacity to",e),u.css("background-color",t)},legacy:function(){u.addClass(v.legacy)},active:function(){u.addClass(v.active)},dimmable:function(){m.addClass(v.dimmable)},dimmed:function(){m.addClass(v.dimmed)},pageDimmer:function(){u.addClass(v.pageDimmer)},disabled:function(){u.addClass(v.disabled)},variation:function(e){(e=e||g.variation)&&u.addClass(e)}},remove:{active:function(){u.removeClass(v.active)},legacy:function(){u.removeClass(v.legacy)},dimmed:function(){m.removeClass(v.dimmed)},disabled:function(){u.removeClass(v.disabled)},variation:function(e){(e=e||g.variation)&&u.removeClass(e)}},setting:function(t,i){if(h.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,g,t);else{if(i===n)return g[t];e.isPlainObject(g[t])?e.extend(!0,g[t],i):g[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(i===n)return h[t];h[t]=i}},debug:function(){!g.silent&&g.debug&&(g.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,g.name+":"),h.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),h.verbose.apply(console,arguments)))},error:function(){g.silent||(h.error=Function.prototype.bind.call(console.error,console,g.name+":"),h.error.apply(console,arguments))},performance:{log:function(e){var t,i;g.performance&&(i=(t=(new Date).getTime())-(s||t),s=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:M,"Execution Time":i})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=g.name+":",i=0;s=!1,clearTimeout(h.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",C&&(t+=" '"+C+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==n||console.table!==n)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,i,o){var s,r,l,c=k;return i=i||d,o=M||o,"string"==typeof t&&c!==n&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,a){var o=i!=s?a+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(c[o])&&i!=s)c=c[o];else{if(c[o]!==n)return r=c[o],!1;if(!e.isPlainObject(c[a])||i==s)return c[a]!==n?(r=c[a],!1):(h.error(b.method,t),!1);c=c[a]}})),e.isFunction(r)?l=r.apply(o,i):r!==n&&(l=r),Array.isArray(a)?a.push(l):a!==n?a=[a,l]:l!==n&&(a=l),r}},h.preinitialize(),c?(k===n&&h.initialize(),h.invoke(l)):(k!==n&&k.invoke("destroy"),h.initialize())}),a!==n?a:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",silent:!1,debug:!1,verbose:!1,performance:!0,useFlex:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},displayLoader:!1,loaderText:!1,loaderVariation:"",onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",legacy:"legacy",pageDimmer:"page",show:"show",loader:"ui loader"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(t){var i,n=e("<div/>").addClass("ui dimmer");return t.displayLoader&&(i=e("<div/>").addClass(t.className.loader).addClass(t.loaderVariation),t.loaderText&&(i.text(t.loaderText),i.addClass("text")),n.append(i)),n}}}}(i(4692),window,document)},2607:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>ve});var n=i(2893),a=i(5353),o=i(269),s=i(3355);var r=i(4486);const l=(0,r.A)({name:"wiki-button",props:["pressed"]},function(){var e=this;return(0,e._self._c)("div",{staticClass:"split button",on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)},[],!1,null,"424f68cd",null).exports;var c=i(873);const d={name:"metrics-dropdown",props:["granularity","metric"],data:()=>({visible:!1,metrics:Object.keys(c.A.metrics).reduce((e,t)=>{const i=c.A.metrics[t];return i.name=t,e[i.area].push(i),e},{reading:[],contributing:[],content:[]})}),methods:{active(e){return e===this.metric?"active":""},toggleVisibility(){this.visible=!this.visible},goToMetric(e,t){t!==this.metric.name&&this.$store.commit("reload",{project:this.$store.getters.project,metric:t,area:e})}}},u=(0,r.A)(d,function(){var e=this,t=e._self._c;return t("div",{staticClass:"ui floating dropdown button",on:{click:function(t){return e.toggleVisibility()}}},[t("span",{staticClass:"text metric name"},[e._v(e._s(e.metric.fullName))]),e._v(" "),t("span",{staticClass:"granularity subdued"},[e._v(e._s(e.granularity))]),e._v(" "),t("i",{staticClass:"dropdown icon"}),e._v(" "),t("div",{staticClass:"menu",class:{shown:e.visible,hidden:!e.visible}},[t("div",{staticClass:"marea"},[e._v("Reading")]),e._v(" "),e._l(e.metrics.reading,function(i){return t("div",{staticClass:"item",class:e.active(i),attrs:{"data-value":i.name},on:{click:function(t){return e.goToMetric(i.area,i.name)}}},[e._v("\n            "+e._s(i.fullName)+"\n        ")])}),e._v(" "),t("div",{staticClass:"divider"}),e._v(" "),t("div",{staticClass:"marea"},[e._v("Contributing")]),e._v(" "),e._l(e.metrics.contributing,function(i){return t("div",{staticClass:"item",class:e.active(i),attrs:{"data-value":i.name},on:{click:function(t){return e.goToMetric(i.area,i.name)}}},[e._v("\n            "+e._s(i.fullName)+"\n        ")])}),e._v(" "),t("div",{staticClass:"divider"}),e._v(" "),t("div",{staticClass:"marea"},[e._v("Content")]),e._v(" "),e._l(e.metrics.content,function(i){return t("div",{staticClass:"item",class:e.active(i),attrs:{"data-value":i.name},on:{click:function(t){return e.goToMetric(i.area,i.name)}}},[e._v("\n            "+e._s(i.fullName)+"\n        ")])})],2)])},[],!1,null,"f25308a0",null).exports;var m=i(1798),h=i(7732),g=i(4908),p=(i(4075),i(5948)),f=i(5968);const v=(0,r.A)({name:"selected-cover",props:["left","right","color","height"]},function(){var e=this;return(0,e._self._c)("rect",{staticClass:"selectedCover",staticStyle:{stroke:"black","stroke-width":"0",opacity:"0.5"},attrs:{x:e.left,y:"20",width:e.right-e.left,height:e.height,fill:e.color}})},[],!1,null,null,null).exports;var b=i(4692);const y={name:"selected-cover-loading",props:["left","right","color","height"],data:()=>({interval:null}),mounted(){this.interval=setInterval(()=>{const e=parseInt(b("#barberPattern").attr("x"));b("#barberPattern").attr("x",(e+2)%42.5+"")},50)},destroyed(){clearInterval(this.interval)}},w=(0,r.A)(y,function(){var e=this,t=e._self._c;return t("g",[t("defs",[t("pattern",{attrs:{patternUnits:"userSpaceOnUse",id:"barberPattern",x:"0",y:"0",width:"42.5",height:"42.5"}},[t("rect",{attrs:{x:"-40",y:"0",width:"20",height:"250",fill:e.color,transform:"rotate(-45, 0, 0)"}}),e._v(" "),t("rect",{attrs:{x:"-10",y:"0",width:"20",height:"250",fill:e.color,transform:"rotate(-45, 0, 0)"}}),e._v(" "),t("rect",{attrs:{x:"20",y:"0",width:"20",height:"250",fill:e.color,transform:"rotate(-45, 0, 0)"}})]),e._v(" "),t("mask",{attrs:{id:"barberMask"}},[t("rect",{attrs:{x:e.left,y:"20",width:e.right-e.left,height:e.height,fill:"#fff"}})])]),e._v(" "),t("g",{attrs:{mask:"url(#barberMask)"}},[t("g",{attrs:{id:"patternTrain"}},[t("rect",{attrs:{x:e.left,y:"20",width:e.right-e.left,height:e.height,fill:"url(#barberPattern)"}})])])])},[],!1,null,null,null).exports;var C=i(4692);const _={name:"time-selector",props:["leftBound","rightBound","width","startDate","endDate","mainColor","secondaryColor","mode","graphModel","height"],components:{SelectedCover:v,SelectedCoverLoading:w},data(){return{start:null,end:null,right:0,left:null,dragging:{left:!1,right:!1},margin:"monthly"===this.graphModel.granularity?70:82,sliderWidth:10}},mounted(){this.start=this.startDate,this.end=this.endDate,this.right=this.timeToX(this.end),"top"!==this.mode&&(this.left=this.timeToX(this.start))},computed:Object.assign((0,a.aH)("detail",["timeRange"]),{loading(){return!!this.graphModel.status},anchorSeparation(){const e="monthly"===this.graphModel.granularity?70:82,t=this.right-this.left;return t<e/2+e/2?(e/2+e/2-t)/2+2:0}}),watch:{timeRange(){this.start=this.timeRange.start,this.end=this.timeRange.end,this.left=this.timeToX(this.timeRange.start),this.right=this.timeToX(this.timeRange.end)}},methods:{textPosition(e,t){if("left"===t){const t=C(".slider.text.right");let i=0;return t.length>0&&(i=t[0].textLength.baseVal.value),Math.max(40,Math.min(e-this.anchorSeparation,this.width-12-40-i))}{const t=C(".slider.text.left");let i=0;return t.length>0&&(i=t[0].textLength.baseVal.value),Math.max(52+i,Math.min(e+this.anchorSeparation,this.width-40))}},setLeft(e){this.left=Math.min(this.right,Math.max(this.margin/2,e))},setRight(e){"timeseries"===this.mode?this.right=Math.max(Math.max(this.margin/2,this.left),Math.min(e,this.width-this.margin/2)):this.right=Math.max(this.margin/2,Math.min(e,this.width-this.margin/2))},coverType:e=>e?"selected-cover-loading":"selected-cover",timeToX(e){return g.m4().domain([this.leftBound,this.rightBound]).range([this.margin/2,this.width-this.margin/2])(e)},xToTime(e){return g.m4().domain([this.margin/2,this.width-this.margin/2]).range([this.leftBound,this.rightBound])(e)},onClick(e){e.stopPropagation()},onDragStart(e){e.target.classList.contains("left")?this.dragging.left=!0:e.target.classList.contains("right")&&(this.dragging.right=!0)},onMouseMove(e){const t=this.$el.getScreenCTM();if(e.touches&&(e=e.touches[0]),this.dragging.left){const i=(e.clientX-t.e)/t.a;this.setLeft(i),this.start=this.xToTime(this.left)}else if(this.dragging.right){const i=(e.clientX-t.e)/t.a;this.setRight(i),this.end=this.xToTime(this.right),"top"===this.mode&&this.setStartForTops()}},onMouseUp(e){this.dragging.left?(this.dragging.left=!1,this.reportChange()):this.dragging.right&&(this.dragging.right=!1,this.reportChange())},reportChange(){const e=new f.A([this.start,this.end]);this.$store.commit("detail/timeRange",{timeRange:e})},sliderRange(){return"timeseries"===this.mode?[f.A.dateFormatForGranularity(this.start,this.graphModel.granularity),f.A.dateFormatForGranularity(this.end,this.graphModel.granularity)]:f.A.dateFormatForGranularity(new f.A([this.start,this.end]).getMidDate(),this.graphModel.granularity)},setStartForTops(){const e=new Date(this.end);"monthly"===this.graphModel.granularity?e.setUTCDate(e.getUTCDate()-1):e.setUTCHours(0),this.start=e}}},x=(0,r.A)(_,function(){var e=this,t=e._self._c;return e._self._setupProxy,t("svg",{staticClass:"timeselector",attrs:{height:2*e.height,width:e.width},on:{click:e.onClick,mousemove:e.onMouseMove,touchmove:e.onMouseMove,mouseup:e.onMouseUp,touchend:e.onMouseUp,touchleave:e.onMouseUp,touchcancel:e.onMouseUp,mousedown:e.onDragStart,touchstart:e.onDragStart}},[t("g",["timeseries"===e.mode?t(e.coverType(e.loading),{tag:"component",attrs:{left:e.left,right:e.right,color:e.secondaryColor,height:e.height-4}}):e._e(),e._v(" "),t("rect",{staticClass:"mainRect",attrs:{x:e.margin/2,y:"20",rx:"2",ry:"2",width:e.width-e.margin,height:e.height-4}}),e._v(" "),"timeseries"===e.mode?t("g",[e.start?t("text",{staticClass:"slider text left",attrs:{unselectable:"on",x:e.textPosition(e.left,"left"),y:"10"}},[e._v(e._s(e.sliderRange()[0]))]):e._e(),e._v(" "),t("rect",{staticClass:"slider left",attrs:{x:e.left,y:"18",rx:"2",ry:"2",width:e.sliderWidth,height:e.height}}),e._v(" "),e.anchorSeparation>0?t("text",{staticClass:"slider text hyphen",attrs:{unselectable:"on",x:(e.textPosition(e.right,"right")+e.textPosition(e.left,"left"))/2,y:"10"}},[e._v("-")]):e._e(),e._v(" "),e.end?t("text",{staticClass:"slider text right",attrs:{unselectable:"on",x:e.textPosition(e.right,"right"),y:"10"}},[e._v(e._s(e.sliderRange()[1]))]):e._e(),e._v(" "),t("rect",{staticClass:"slider right",attrs:{x:e.right,y:"18",rx:"2",ry:"2",width:e.sliderWidth,height:e.height}})]):t("g",[e.end?t("text",{staticClass:"slider text right",attrs:{unselectable:"on",x:e.right,y:"10"}},[e._v(e._s(e.sliderRange()))]):e._e(),e._v(" "),t("rect",{staticClass:"slider right",attrs:{x:e.right,y:"18",rx:"2",ry:"2",width:e.sliderWidth,height:e.height}})])],1)])},[],!1,null,null,null).exports,M=x;var k=i(4692);const T={name:"wiki-time-bar",props:["graphModel"],components:{WikiSelector:s.A,TimeSelector:M},computed:Object.assign((0,a.aH)("detail",["granularity","timeRange"]),(0,a.aH)(["selectingTime"]),{mobileTimeSelectorWidth:()=>k(".ui.column.wide.selector").width()}),methods:{toggleTimeSelection(){const e=!this.selectingTime;this.$store.commit("selectingTime",{selectingTime:e})},switchGranularity(){const e=["monthly","daily"],t=e.indexOf(this.graphModel.granularity),i=e[(t+1)%e.length];this.$store.commit("detail/granularity",{granularity:i})}}},S=(0,r.A)(T,function(){var e=this,t=e._self._c;return e.graphModel?t("div",{staticClass:"ui grid wikis",class:{displaced:e.selectingTime}},[t("wiki-selector",{staticClass:"ui column seven wide",attrs:{single:!1}}),e._v(" "),t("div",{staticClass:"ui column calendarToggle",on:{click:e.toggleTimeSelection}},[t("i",{staticClass:"icon",class:{"calendar large alternate outline":e.selectingTime,"calendar large alternate":!e.selectingTime}})]),e._v(" "),t("div",{staticClass:"ui column six wide selector"},[e.selectingTime?t("time-selector",{attrs:{width:e.mobileTimeSelectorWidth||250,height:18,mode:e.graphModel.config.structure,graphModel:e.graphModel,leftBound:new Date(e.graphModel.config.knownStart||"2001-01-01"),rightBound:new Date(e.graphModel.config.knownEnd||new Date),startDate:e.timeRange.start,endDate:e.timeRange.end,mainColor:e.graphModel.config.darkColor,secondaryColor:e.graphModel.config.lightColor}}):e._e()],1),e._v(" "),e.selectingTime&&e.graphModel.availableGranularities().length>1?t("div",{staticClass:"ui column granularity"},[t("span",{staticClass:"ui label granularity",on:{click:e.switchGranularity}},[e._v(e._s(e.granularity[0]))])]):e._e()],1):e._e()},[],!1,null,null,null).exports,A={name:"simple-legend",props:["dimension","graphModel"],computed:(0,a.L8)("dimensions",["colorForDimensionValue"]),methods:{getColor(e){return this.colorForDimensionValue(e,this.$store.state.area)},geti18nBreakdownKey(e){return"total"===e?"general-total":`metrics-${this.graphModel.metricId}-breakdowns-${this.dimension.key}-values-${e}-name`}}},D=(0,r.A)(A,function(){var e=this,t=e._self._c;return t("span",[e.dimension?t("span",e._l(e.dimension.values,function(i,n){return i.on?t("span",[t("span",{staticClass:"color swatch",style:{"background-color":e.getColor(i.key)}}),e._v("\n            "+e._s(e._f("capitalize")(e.$t(e.geti18nBreakdownKey(i.key))))+"\n        ")]):e._e()}),0):e._e()])},[],!1,null,null,null).exports;var F=i(1317),R=i(981),$=(i(8146),i(4349),i(4524)),O=i(9702),P=i(2543),B=i.n(P),L=i(3333);const H={name:"bar-chart",props:["graphModel"],data:()=>({hoveredBar:null,x:null,y:null}),computed:Object.assign((0,a.L8)("dimensions",["splittingDimension","activeSplitValues","colorForDimensionValue"]),(0,a.aH)("detail",["fullscreen"]),{granularityFormat(){return p.A.getDateFormatFromData(this.graphModel.graphData)}}),mounted(){this.drawChart()},watch:{"graphModel.graphData"(){this.drawChart()},fullscreen(){this.drawChart()}},methods:{dateFormat(e){return f.A.dateFormatForGranularity(e,this.graphModel.granularity)},geti8nBreakdownKey(e){return"total"===e?"general-total":`metrics-${this.graphModel.metricId}-breakdowns-${this.splittingDimension.key}-values-${e}-name`},transformAndAddAnnotations(e){const t=this.x.range()[1],i=this.y.range()[0],n=this.splittingDimension.values.filter(e=>e.on).map(e=>e.key),a=this.x.bandwidth()/n.length,o=(0,O.O)(e.map(e=>{const o=this.x(e.date)+a*(n.indexOf(e.splitValue)+.5),s=this.y(e.value)||i;return{subject:{radius:14,radiusPadding:2},color:"#225588",dx:o>t-120?-20:20,dy:s>i-100?-50:50,x:o,y:s,splitValue:e.splitValue,note:{bgPadding:10,label:e.label,title:e.title}}}),28);this.addAnnotations(this.getRoot().select("svg").select(".graph"),o,this.x,this.y)},getRoot(){return h.Lt(this.$el).select(".big")},drawChart(){if(!this.graphModel.graphData||!this.graphModel.graphData.length)return;let e;e="bytes"===this.graphModel.config.unit?e=>(0,L.A)(e).format({optionalMantissa:!0,output:"byte",base:"decimal",mantissa:1}).toUpperCase():e=>(0,L.A)(e).format({optionalMantissa:!0,mantissa:1,average:!0}).toUpperCase(),this.hoveredBar=null;const t=h.Lt(this.$el).select(".big"),i=t.select("svg"),n=i.select(".graph");i.attr("width",0).attr("height",0),n.selectAll("*").remove();const a=t.node();let o=this.graphModel.graphData.map(e=>e.month);const s=F.Xx(o),{min:r,max:l}=this.graphModel.getMinMax();let c=a.offsetHeight-6-20-4,d=g.m4().range([c,0]);d.domain([r,l]);const u=R.V4(d).ticks(7).tickFormat(e),m=n.append("g").call(u).style("font-size","13px").style("font-family",'Lato, "Open Sans"').node().getBBox().width;n.attr("transform",`translate(${m},6)`);let p=this.$el.offsetWidth-40,f=g.WH().range([0,p]).domain(o).paddingOuter(0).paddingInner(.1).align(0);i.attr("width",a.offsetWidth).attr("height",a.offsetHeight);let v=n.append("g");d.domain([r,l]);let b=this;v.selectAll(".bar").data(this.graphModel.graphData).enter().selectAll(".minibar").data(e=>this.activeSplitValues.map((t,i)=>({month:e.month,key:t,breakdownKey:t,value:e.total[t],color:b.colorForDimensionValue(t,this.graphModel.config.area),width:f.bandwidth()/Object.keys(b.activeSplitValues).length,index:i}))).enter().append("rect").attr("x",e=>f(e.month)+e.index*e.width).attr("y",e=>e.value>=0?d(e.value):d(0)).attr("width",e=>e.width).attr("height",e=>e.value?Math.abs(d(e.value)-d(0)):0).attr("fill",e=>e.color).on("mouseover",function(e){const t=h.Lt("#diagonalHatch");h.Lt(t.node().firstChild).style("fill",e.color),h.Lt(this).attr("fill","url(#diagonalHatch)"),b.hoveredBar=e;const i=b.$el.getBoundingClientRect(),n=b.$parent.$el.getBoundingClientRect(),a=this.getBoundingClientRect();b.hoveredBar.left=a.left-n.left+b.hoveredBar.width/2,b.hoveredBar.top=a.top-i.top,b.hoveredBar.right=i.right-a.right+40}).on("mouseout",function(e){h.Lt(this).attr("fill",e.color),h.f0.stopPropagation()}),r<0&&v.append("line").attr("x1",0).attr("x2",p).attr("y1",d(0)).attr("y2",d(0)).style("stroke","black").style("stroke-width",.5);const y=g.w7().rangeRound([0,p]).domain(s),w=R.l7(y);if(n.append("g").attr("transform",`translate(0,${c})`).call(w).attr("class","x-axis-labels").style("font-size","13px").style("font-family",'Lato, "Open Sans"').selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-45)"),i.attr("width",a.offsetWidth).attr("height",n.node().getBBox().height+6),a.onmouseout=this.onGraphMouseOut.bind(this),this.x=f,this.y=d,this.graphModel.hasTruncatedValues()){const e={x:1,y:d(1e3),width:p,height:c-d(1e3)};this.addTruncatedShield(e,n)}this.graphModel.afterAnnotations(this.transformAndAddAnnotations)},addTruncatedShield(e,t){t.append("rect").attr("x",1).attr("y",e.y).attr("width",e.width).attr("height",e.height).attr("fill","white"),t.append("line").attr("x1",1).attr("y1",e.y).attr("x2",e.width).attr("y2",e.y).attr("style","stroke:#990000; stroke-width:2").attr("stroke-dasharray","2"),t.append("text").attr("width",e.width).attr("height",e.height).attr("x",10).attr("y",e.y+20).attr("style","stroke:#990000; stroke-width: 0.5; font-size: 12px").text("Values under 1000 are not reported to preserve accuracy")},onGraphMouseOut(e){this.hoveredBar=null},getPopupStyle:e=>({top:e.top-65+"px",left:e.left-80+"px",border:"solid 1px "+e.color,borderBottom:"solid 3px "+e.color}),getPopupArrowStyle:e=>({borderBottom:"solid 3px "+e.color,borderRight:"solid 3px "+e.color}),addAnnotations(e,t){const i=(0,$.FB)($.Mp,{className:"customCalloutCircle",connector:{end:"arrow",type:"line"},note:{align:"dynamic",lineType:"horizontal"}}),n=(0,$.w7)().editMode(!1).type(i).annotations(t);e.append("g").attr("class","annotation-group").call(n)}}},j=(0,r.A)(H,function(){var e=this,t=e._self._c;return t("div",{staticClass:"graphContainer"},[e.hoveredBar?t("div",{staticClass:"bar valuePopup",style:e.getPopupStyle(e.hoveredBar)},[t("b",[e._v(e._s(e.dateFormat(e.hoveredBar.month)))]),e._v(" "),t("div",[t("b",[t("span",{style:{color:e.hoveredBar.color}},[e._v(e._s(e._f("capitalize")(e.$t(e.geti8nBreakdownKey(e.hoveredBar.breakdownKey)))))])]),e._v(" "),t("span",[e._v(e._s(e._f("thousands")(e.hoveredBar.value)))])]),e._v(" "),t("div",{staticClass:"tooltipArrow"},[t("div",{staticClass:"tooltipAfter",style:e.getPopupArrowStyle(e.hoveredBar)})])]):e._e(),e._v(" "),t("div",{staticClass:"big bar chart"},[t("svg",[t("pattern",{attrs:{id:"diagonalHatch",patternUnits:"userSpaceOnUse",width:"4",height:"8",patternTransform:"rotate(45 0 0)"}},[t("rect",{attrs:{x:"0",y:"0",width:"50",height:"50"}}),e._v(" "),t("line",{staticStyle:{stroke:"black","stroke-width":"3"},attrs:{x1:"0",y1:"0",x2:"0",y2:"50"}})]),e._v(" "),t("g",{staticClass:"graph"})])])])},[],!1,null,null,null).exports;var N=i(4033),E=i(4692);const V={name:"line-chart",props:["graphModel"],data:()=>({hoveredPoint:null,hoveredPointTop:null,hoveredPointLeft:null,hoveredPointColor:null,hoveredPointColor:null,margin:{top:6,right:0,bottom:20,left:40},x:null,y:null}),computed:Object.assign((0,a.L8)("dimensions",["splittingDimension","activeSplitValues","colorForDimensionValue"]),(0,a.aH)("detail",["fullscreen"]),{selectedValue(){let e=[];const t=this.activeSplitValues;return B().forEach(this.hoveredPoint.total,(i,n)=>{t.find(e=>e===n)&&e.push({key:n,value:i,color:this.colorForDimensionValue(n,this.graphModel.config.area),name:n})}),B().sortBy(e,e=>e.value).reverse()},granularityFormat(){return p.A.getDateFormatFromData(this.graphModel.graphData)}}),mounted(){this.drawChart()},watch:{"graphModel.graphData"(){this.drawChart()},fullscreen(){this.drawChart()}},methods:{dateFormat(e){return f.A.dateFormatForGranularity(e,this.graphModel.granularity)},transformAndAddAnnotations(e){const t=this.x.range()[1],i=this.y.range()[0],n=(0,O.O)(e.map(e=>{const n=this.x(e.date),a=this.y(e.value);return{subject:{radius:14,radiusPadding:2},color:"#4488aa",dx:n>t-120?-20:20,dy:a>i-100?-50:50,x:n,y:a,splitValue:e.splitValue,note:{bgPadding:10,label:e.label,title:e.title}}}),28);this.addAnnotations(this.getRoot().select("svg").select(".graph"),n)},getRoot(){return h.Lt(this.$el).select(".big")},geti18nBreakdownKey(e){return"total"===e?"general-total":`metrics-${this.graphModel.metricId}-breakdowns-${this.splittingDimension.key}-values-${e}-name`},drawChart(){if(!this.graphModel.graphData.length)return;this.hoveredPoint=null;const e=this.getRoot(),t=e.select("svg"),i=t.select(".graph");t.attr("width",0).attr("height",0),i.selectAll("*").remove();const{min:n,max:a}=this.graphModel.getMinMax(),o=e.node(),s=o.offsetWidth-this.margin.left-this.margin.right-8,r=g.w7().rangeRound([0,s]),l=this.graphModel.graphData.map(e=>e.month);r.domain(F.Xx(l));const c=o.offsetHeight-this.margin.top-this.margin.bottom-4,d=g.m4().rangeRound([c,0]);d.domain([n,a]),t.attr("width",o.offsetWidth).attr("height",o.offsetHeight),o.onmousemove=this.onGraphMouseMove,o.onmouseout=this.onGraphMouseOut;const u=N.n8().x(e=>r(e.month)).y(e=>d(e.total));let m=this.graphModel.darkColor;if(this.activeSplitValues.map(e=>this.graphModel.graphData.map(t=>({month:t.month,total:t.total[e],key:e})).filter(e=>"number"==typeof e.total)).forEach(e=>{m=this.colorForDimensionValue(e[0].key,this.graphModel.config.area),i.append("path").datum(e).attr("d",u).attr("class","statLine breakdownLine").style("stroke",m).style("stroke-width","3px").style("fill","none")}),this.addHoverGuide(i,this.graphModel.graphData,r,d),this.addAxes(r,d,i),t.attr("width",o.offsetWidth+4).attr("height",i.node().getBBox().height+this.margin.top),this.x=r,this.y=d,this.graphModel.hasTruncatedValues()){const e={x:1,y:d(1e3),width:s,height:c-d(1e3)};this.addTruncatedShield(e,i)}this.graphModel.afterAnnotations(this.transformAndAddAnnotations)},addAxes(e,t,i){let n;n="bytes"===this.graphModel.config.unit?e=>(0,L.A)(e).format({optionalMantissa:!0,output:"byte",base:"decimal",mantissa:1}).toUpperCase():e=>(0,L.A)(e).format({optionalMantissa:!0,mantissa:1,average:!0}).toUpperCase();const a=t.range()[0],o=R.l7(e),s=R.V4(t).ticks(7).tickFormat(n),r=i.append("g").call(s).attr("class","yAxis").style("font-size","13px").style("font-family",'Lato, "Open Sans"');i.append("g").attr("transform",`translate(0,${a})`).call(o).style("font-size","13px").style("font-family",'Lato, "Open Sans"').selectAll("text").style("text-anchor","end").attr("class","xAxisLabel").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-45)"),i.attr("transform",`translate(${r.node().getBBox().width},${this.margin.top})`)},addTruncatedShield(e,t){t.append("rect").attr("x",1).attr("y",e.y).attr("width",e.width).attr("height",e.height).attr("fill","white"),t.append("line").attr("x1",1).attr("y1",e.y).attr("x2",e.width).attr("y2",e.y).attr("style","stroke:#990000; stroke-width:2").attr("stroke-dasharray","2"),t.append("text").attr("width",e.width).attr("height",e.height).attr("x",10).attr("y",e.y+20).attr("style","stroke:#990000; stroke-width: 0.5; font-size: 12px").text("Values under 1000 are not reported to preserve accuracy")},onGraphMouseMove(e){const t=e.pageX-this.$el.getBoundingClientRect().left-h.Lt(".yAxis").node().getBBox().width;h.Lt("line").style("display","unset"),h.Lt("line").attr("x1",t).attr("x2",t)},onGraphMouseOut(e){E(".guide").fadeOut(100),this.hoveredPoint=null},addHoverGuide(e,t,i,n){const a=this,o=i.range()[1],s=n.range()[0];this.addGuideLine(e,s);let r=e.selectAll(".pointCircle").data(t).enter().append("g").attr("class","pointCircle");const l=o/t.length+4;r.append("rect").attr("class","hover").attr("x",e=>i(e.month)-l/2).attr("y",0).attr("height",s).attr("width",l).on("mousemove",function(e){E(this).siblings().show(),a.hoveredPoint=e;const t=a.$el.getBoundingClientRect(),i=a.$parent.$el.getBoundingClientRect(),n=this.getBoundingClientRect(),o=t.height;h.f0.layerY>o/2?a.hoveredPointTop=o/4:a.hoveredPointTop=o/4*3,a.hoveredPointLeft=n.left-i.left+l/2,a.hoveredPointRight=t.right-n.right+a.margin.left}).on("mouseout",function(){E(this).siblings().hide(),h.f0.stopPropagation()}),r.each(function(e){let t=h.Lt(this);B().forEach(e.total,(e,o)=>{a.activeSplitValues.find(e=>e==o)&&t.append("circle").attr("cx",e=>i(e.month)).attr("cy",t=>n(e)).attr("r",5).style("display","none")})})},addGuideLine(e,t){e.append("line").attr("class","guide").attr("x1",0).attr("x2",0).attr("y1",t).attr("y2",0).style("stroke","gray").style("stroke-width",1)},addAnnotations(e,t){const i=(0,$.FB)($.Mp,{className:"customCalloutCircle",connector:{end:"arrow",type:"line"},note:{align:"dynamic",lineType:"horizontal"}}),n=(0,$.w7)().editMode(!1).type(i).annotations(t);e.append("g").attr("class","annotation-group").call(n).on("mouseover",this.onGraphMouseOut)}}},z=(0,r.A)(V,function(){var e=this,t=e._self._c;return t("div",{staticClass:"graphContainer"},[e.hoveredPoint?t("div",{staticClass:"line valuePopup",style:{top:e.hoveredPointTop-65+"px",left:e.hoveredPointLeft-80+"px",border:"solid 1px "+e.hoveredPointColor,borderBottom:"solid 3px "+e.hoveredPointColor}},[t("b",[e._v(e._s(e.dateFormat(e.hoveredPoint.month)))]),e._v(" "),e._l(this.selectedValue,function(i){return t("div",{staticClass:"breakdown"},[t("b",[t("span",{style:{color:i.color}},[e._v(e._s(e._f("capitalize")(e.$t(e.geti18nBreakdownKey(i.name)))))])]),e._v(" "),t("span",[e._v(e._s(e._f("thousands")(i.value)))])])})],2):e._e(),e._v(" "),t("div",{staticClass:"big line chart"},[t("svg",[t("g",{staticClass:"graph"})])])])},[],!1,null,null,null).exports,I={name:"table-chart",props:["graphModel"],components:{TableNameCell:i(1163).A},data:()=>({currentPage:1}),mounted(){this.setColors()},updated(){this.setColors()},computed:Object.assign((0,a.L8)("dimensions",["splittingDimension","activeSplitValues","colorForDimensionValue"]),{isTop(){return"top"===this.graphModel.config.structure},isTimeseries(){return"timeseries"===this.graphModel.config.structure},isMap(){return"map"===this.graphModel.config.type},mobile(){return"mobile"===this.$mq},itemsToShow(){const e=this.mobile?10:20;return this.currentPage*e},length(){return this.graphModel.graphData?this.graphModel.graphData.length:0},valuesShown(){if(!this.length)return[];const e=this.isTop?0:Math.max(this.length-this.itemsToShow,0),t=this.isTop?this.itemsToShow:this.length,i=this.graphModel.graphData.slice(e,t);return this.isTop?i:i.reverse()},loadMoreRows(){return this.length>this.itemsToShow},granularityFormat(){return p.A.getDateFormatFromData(this.graphModel.graphData)}}),methods:{getValue:(e,t)=>e.truncated&&0===e.total[t.key]?"(truncated)":n.Ay.filter("thousands")(e.total[t.key]),setColors(){const e=this.$el.querySelectorAll("th");for(let t=0;t<e.length;t++)e[t].style=`background-color: ${this.graphModel.config.darkColor};`},advancePage(){this.currentPage++},geti8nBreakdownModeKey(e,t){return e&&"total"!==e?`metrics-${this.graphModel.metricId}-breakdowns-${e}-values-${t}-name`:"general-total"}}},U=(0,r.A)(I,function(){var e=this,t=e._self._c;return t("div",[t("table",{staticClass:"ui table unstackable",class:e.graphModel.config.area},[e.loadMoreRows?t("caption",{staticClass:"morerows",attrs:{align:"bottom",colspan:"10"},on:{click:function(t){return e.advancePage()}}},[e._v(e._s(e.$t("charts-table-load_more_rows")))]):e._e(),e._v(" "),t("thead",[e.isTimeseries?t("tr",[t("th",[e._v(e._s(e._f("capitalize")(e.$t("general-date"))))]),e._v(" "),e._l(e.splittingDimension.values,function(i){return i.on?t("th",{staticClass:"right aligned"},[e._v(e._s(e._f("capitalize")(e.$t(e.geti8nBreakdownModeKey(e.splittingDimension.key,i.key)))))]):e._e()})],2):e._e(),e._v(" "),e.isTop?t("tr",[t("th",{staticClass:"right aligned"},[e._v(e._s(e._f("capitalize")(e.graphModel.config.valueTitle||e.graphModel.config.value)))]),e._v(" "),t("th",[e._v(e._s(e._f("capitalize")(e.$t("general-name"))))])]):e._e()]),e._v(" "),t("tbody",[e._l(e.valuesShown,function(i){return e.isTimeseries?t("tr",[t("td",[e._v(e._s(e._f("ISOdateUTC")(i.month,e.granularityFormat)))]),e._v(" "),e._l(e.splittingDimension.values,function(n){return n.on?t("td",{staticClass:"right aligned"},[e._v("\n                "+e._s(e.getValue(i,n)))]):e._e()})],2):e._e()}),e._v(" "),e._l(e.valuesShown,function(i,n){return e.isTop?t("tr",[e.isMap?t("td",{staticClass:"right aligned"},[e._v(e._s(e._f("kmb")(i.total.total)))]):t("td",{staticClass:"right aligned"},[e._v(e._s(e._f("thousands")(i.total.total)))]),e._v(" "),t("table-name-cell",{attrs:{nameKey:e.graphModel.config.key,index:n,value:i}})],1):e._e()})],2)])])},[],!1,null,"2e6bba28",null).exports,q={name:"filter-value-list",computed:Object.assign((0,a.aH)(["metric"]),{radioMode(){return!this.dimension.allValue}}),props:["dimension"],methods:Object.assign((0,a.i0)("dimensions",["disableDimensionValue","enableDimensionValue"]),{geti8nDimensionValueKey(e,t){return`metrics-${this.metric}-breakdowns-${e}-values-${t}-name`},toggleFilterValue(e,t){const i=this.dimension.values.find(t=>t.key===e),n={dimensionKey:this.dimension.key,filterValueKey:e};i.on&&!this.radioMode?this.disableDimensionValue(n):this.enableDimensionValue(n)}})},W={name:"dimension-card",components:{FilterValueList:(0,r.A)(q,function(){var e=this,t=e._self._c;return t("div",{staticClass:"filter values"},e._l(e.dimension.values,function(i){return t("div",{directives:[{name:"hint",rawName:"v-hint:breakdown.e",value:i.key,expression:"value.key",arg:"breakdown",modifiers:{e:!0}}],key:i.key,staticClass:"ui checkbox",class:{radio:e.radioMode,checked:i.on},on:{click:function(t){return e.toggleFilterValue(i.key,t)}}},[e.radioMode?t("input",{attrs:{type:"radio"},domProps:{checked:i.on}}):t("input",{attrs:{type:"checkbox"},domProps:{checked:i.on}}),e._v(" "),t("label",[e._v(e._s(e.$t(e.geti8nDimensionValueKey(e.dimension.key,i.key))))])])}),0)},[],!1,null,null,null).exports,WikiButton:l},computed:Object.assign((0,a.aH)(["metric"]),{}),props:["dimension","splittable"],methods:Object.assign((0,a.i0)("dimensions",["disableSplit","enableSplit"]),{geti8nDimensionKey(e){return`metrics-${this.metric}-breakdowns-${e}-name`},toggleSplitting(){this.dimension.splitting?this.disableSplit(this.dimension.key):this.enableSplit(this.dimension.key)}})},G=(0,r.A)(W,function(){var e=this,t=e._self._c;return t("div",{staticClass:"dimension selector card"},[t("div",{staticClass:"title"},[t("i",{staticClass:"filter alternate icon small"}),e._v(" Filter by "),t("b",[e._v(e._s(e.$t(e.geti8nDimensionKey(e.dimension.key))))])]),e._v(" "),t("filter-value-list",{attrs:{dimension:e.dimension}}),e._v(" "),e.splittable?t("wiki-button",{directives:[{name:"hint",rawName:"v-hint:help",value:"split",expression:"'split'",arg:"help"}],staticClass:"special",class:{pressed:e.dimension.splitting},on:{click:function(t){return e.toggleSplitting()}}},[e._v("\n        Split by this dimension\n    ")]):e._e()],1)},[],!1,null,"2e1a1704",null).exports,K={name:"dimension-selector-card",components:{WikiButton:l},props:["dimensions"],computed:Object.assign((0,a.aH)(["metric"]),{}),methods:Object.assign((0,a.i0)("dimensions",["disableDimension","enableDimension"]),{geti8nDimensionKey(e){return`metrics-${this.metric}-breakdowns-${e}-name`},toggleDimension(e){e.active?this.disableDimension(e.key):this.enableDimension(e.key)}})},X={name:"filter-split",components:{DimensionCard:G,DimensionSelectorCard:(0,r.A)(K,function(){var e=this,t=e._self._c;return t("div",{staticClass:"dimension selector card"},[e._m(0),e._v(" "),e._l(e.dimensions,function(i){return t("div",{key:i.name},[t("table",{staticClass:"dimension row"},[t("tr",[t("td",[t("wiki-button",{directives:[{name:"hint",rawName:"v-hint:help",value:"toggle-dimension",expression:"'toggle-dimension'",arg:"help"}],class:{pressed:i.active},on:{click:function(t){return e.toggleDimension(i)}}},[e._v("\n                        "+e._s(e.$t(e.geti8nDimensionKey(i.key)))+"\n                    ")])],1),e._v(" "),t("td",[i.splitting?t("div",{staticClass:"numberCircle"},[e._v("S")]):e._e()])])])])})],2)},[function(){var e=this._self._c;return e("div",[e("i",{staticClass:"filter alternate icon small"}),this._v(" Dimensions\n    ")])}],!1,null,"5978ca12",null).exports},computed:Object.assign((0,a.aH)(["metric"]),(0,a.L8)("dimensions",["dimensions"]),{activeDimensions(){return this.dimensions.filter(e=>e.active)},dimensionIsSplittable(){return"top"!==c.A.metricConfig(this.metric).structure}}),methods:(0,a.i0)("dimensions",["disableDimension","enableDimension","enableSplit","disableSplit"])},Q=(0,r.A)(X,function(){var e=this,t=e._self._c;return t("div",{staticClass:"filtersplit"},[e.dimensions.length>1?t("dimension-selector-card",{attrs:{dimensions:e.dimensions}}):e._e(),e._v(" "),e.activeDimensions.length>0?t("transition-group",{attrs:{name:"cardfade",tag:"div"}},e._l(e.activeDimensions,function(i){return t("dimension-card",{key:i.key,staticClass:"cardfade-item",attrs:{dimension:i,splittable:e.dimensionIsSplittable}})}),1):e._e()],1)},[],!1,null,null,null).exports;var Y=i(1145),J=i(6325),Z=(i(349),i(4692));const ee={name:"graph-panel",components:{ArrowIcon:m.A,SimpleLegend:D,BarChart:j,LineChart:z,TableChart:U,MapChart:()=>Promise.all([i.e(57),i.e(797)]).then(i.bind(i,5011)),StatusOverlay:o.A,MetricsDropdown:u,WikiSelector:s.A,WikiTimeBar:S,WikiButton:l,FilterSplit:Q},props:["graphModel","overlayMessage","annotations","annotationsLink"],mounted(){this.setupScrollListener()},destroyed(){Z(document.body).off("scroll")},data:()=>({scrollOffset:0}),computed:Object.assign((0,a.aH)(["selectingTime","detail"]),(0,a.aH)("detail",["fullscreen","chartType","timeRange","dimensionsModalEnabled"]),(0,a.L8)("dimensions",["splittingDimension","filteredInfo","filtering"]),{chartTypes:function(){return this.graphModel?c.A.getChartTypes(this.graphModel.config):[]},chartIcon:function(){return c.A.availableChartTypes[this.chartType].icon},chartComponent:function(){return this.chartType+"-chart"},aggregate:function(){return this.graphModel&&this.graphModel.getAggregate()},metricId:function(){return this.graphModel.metricId},unit:function(){if(this.graphModel.config.unit)return this.graphModel.config.unit},lastMonth:function(){if(this.graphModel&&this.graphModel.graphData.length>0)return B().last(this.graphModel.graphData).month},mobile:function(){return"mobile"===this.$mq},permalinkURL:function(){if(this.graphModel.graphData.length>0){const e=Object.assign({},this.detail),t=new Date(this.graphModel.graphData[0].timeRange.start),i=new Date(this.graphModel.graphData[this.graphModel.graphData.length-1].timeRange.end);"monthly"===this.detail.granularity&&i.setUTCMonth(i.getUTCMonth()+1),e.timeRange={start:t,end:i};const n=window.location.href,a=Y.A.writeToURL(e);return n.slice(0,n.lastIndexOf("/")+1)+a}},wikistats1URL(){return this.graphModel.config.wikistats1URL}}),methods:{changeChart(e){this.$store.commit("detail/chartType",{chartType:e.chart})},toggleFullscreen(){this.$store.commit("detail/fullscreen",{fullscreen:!this.fullscreen})},download(){let e=J.e2(this.graphModel.downloadData()),t=window.document.createElement("a");t.href=window.URL.createObjectURL(new Blob([e],{type:"text/csv"})),t.download=this.graphModel.config.name+".csv",document.body.appendChild(t),t.click(),document.body.removeChild(t)},copyPermalink(){this.$refs.permalinkText.select(),document.execCommand("copy")},enableDimensionsModal(){this.$store.commit("detail/dimensionsModalEnabled",{enabled:!0})},setupScrollListener(){const e=this.$el.getBoundingClientRect();let t=e.y,i=e.height;Z(document.body).on("scroll",({target:e})=>{if("table"===this.chartType)return;const n=e.scrollTop,a=this.$el.getBoundingClientRect(),o=t+a.height,s=Math.min(o-i-300,Math.max(0,n-t));this.scrollOffset=Math.max(0,s)})},translatedFilteredInfo(){const e=this.filteredInfo;return Object.keys(e).map(t=>this.$t(`metrics-${this.metricId}-breakdowns-${t}-name`)+": "+e[t].map(e=>this.$t(`metrics-${this.metricId}-breakdowns-${t}-values-${e}-name`)).join(", ")).join("\n")}}},te=(0,r.A)(ee,function(){var e=this,t=e._self._c;return t("section",{staticClass:"graph panel",class:{desktop:!e.mobile},style:{top:e.scrollOffset+"px"}},[e.mobile?t("div",{staticClass:"metrics"},[e.mobile?t("metrics-dropdown",{attrs:{metric:e.graphModel.config,granularity:e.graphModel.granularity}}):e._e()],1):e._e(),e._v(" "),e.mobile?t("wiki-time-bar",{attrs:{graphModel:e.graphModel}}):e._e(),e._v(" "),t("div",{staticClass:"ui clearing basic segment graph"},[t("div",[e.mobile?e._e():t("h2",{staticClass:"ui left floated header"},[t("a",{directives:[{name:"hint",rawName:"v-hint:raw",value:e.graphModel.config.tooltip,expression:"graphModel.config.tooltip",arg:"raw"}],staticClass:"metric link",attrs:{href:e.graphModel.config.infoUrl,target:"_blank"}},[e._v("\n                    "+e._s(e.$t(`metrics-${e.metricId}-name`)||e.$t("graph_panel-no_data_yet"))+"\n                ")]),e._v(" "),e.filtering?t("span",{directives:[{name:"hint",rawName:"v-hint:raw",value:e.translatedFilteredInfo,expression:"translatedFilteredInfo",arg:"raw"}],staticClass:"filter indicator subdued"},[e._v("Filtered")]):e._e()]),e._v(" "),t("div",{staticClass:"ui right floated basic fudge segment"},[!e.mobile&&e.splittingDimension&&"table-chart"!==e.chartComponent&&"map-chart"!==e.chartComponent?t("simple-legend",{staticClass:"simple legend",attrs:{dimension:e.splittingDimension,graphModel:e.graphModel}}):e._e(),e._v(" "),e.mobile?e._e():t("div",{staticClass:"ui right floated icon buttons"},[t("button",{directives:[{name:"hint",rawName:"v-hint:help",value:"download",expression:"'download'",arg:"help"}],staticClass:"ui icon button",on:{click:e.download}},[t("i",{staticClass:"download icon"})]),e._v(" "),t("div",{directives:[{name:"hint",rawName:"v-hint:help",value:"permalink",expression:"'permalink'",arg:"help"}],staticClass:"ui icon button simple dropdown"},[t("i",{staticClass:"chain icon"}),e._v(" "),t("div",{staticClass:"menu permalink"},[t("div",{staticClass:"ui right labeled input"},[t("input",{ref:"permalinkText",attrs:{type:"text",readonly:""},domProps:{value:e.permalinkURL}}),e._v(" "),t("button",{directives:[{name:"hint",rawName:"v-hint:help",value:"copy",expression:"'copy'",arg:"help"}],staticClass:"ui icon button",on:{click:e.copyPermalink}},[t("i",{staticClass:"copy icon"})])])])]),e._v(" "),t("div",{directives:[{name:"hint",rawName:"v-hint:help",value:"change-chart",expression:"'change-chart'",arg:"help"}],staticClass:"ui simple dropdown right labeled icon button"},[t("i",{staticClass:"ui dropdown icon"}),e._v(" "),t("span",[t("i",{staticClass:"chart icon",class:e.chartIcon})]),e._v(" "),t("div",{staticClass:"menu"},e._l(e.chartTypes,function(i){return t("div",{key:i.chart,staticClass:"item",on:{click:function(t){return e.changeChart(i)}}},[t("i",{staticClass:"chart icon",class:i.icon}),e._v("\n                                 "+e._s(e._f("capitalize")(e.$t(`charts-${i.chart}`)))+"\n                             ")])}),0)])])],1),e._v(" "),t(e.chartComponent,{tag:"component",attrs:{graphModel:e.graphModel}}),e._v(" "),t("div",{staticClass:"ui center aligned basic segment"},[t("div",{staticClass:"filtersplit button container"},[e.mobile?t("wiki-button",{on:{click:e.enableDimensionsModal}},[e._v("\n                        Filter and split this metric\n                    ")]):e._e()],1),e._v(" "),e.graphModel.hasAggregate()?t("h5",[e._v("\n                    "+e._s(e.graphModel.getAggregateLabel())+":\n                    "+e._s(e._f("bytesOrKmb")(e.aggregate,e.unit))+"\n                ")]):e._e(),e._v(" "),t("p",[e._v(e._s(e.$t(`metrics-${e.metricId}-description`))+".\n                    "),t("a",{directives:[{name:"hint",rawName:"v-hint:raw",value:e.graphModel.config.tooltip,expression:"graphModel.config.tooltip",arg:"raw"}],staticClass:"metric link",attrs:{href:e.graphModel.config.infoUrl,target:"_blank"}},[e._v("\n                        "+e._s(e.$t("graph_panel-more_info"))+"\n                    ")])]),e._v(" "),t("i18n",{attrs:{path:"graph_panel-add_annotations_link",tag:"p"}},[t("a",{directives:[{name:"hint",rawName:"v-hint:help",value:"annotations",expression:"'annotations'",arg:"help"}],staticClass:"metric link",attrs:{href:e.annotationsLink,target:"_blank"}},[e._v(e._s(e.$t("graph_panel-annotations_link_action")))])]),e._v(" "),t("p",[e.wikistats1URL?t("a",{directives:[{name:"hint",rawName:"v-hint:wikistats1Metric.s",arg:"wikistats1Metric",modifiers:{s:!0}}],staticClass:"metric link wikistats1",attrs:{href:e.wikistats1URL,target:"_blank"}},[t("img",{staticClass:"wikimedia-logo",attrs:{src:i(8252),alt:"wikimedia-logo"}}),e._v(" "+e._s(e.$t("graph_panel-wikistats1_counterpart"))+"\n                    ")]):e._e()])],1)],1),e._v(" "),e.overlayMessage?t("status-overlay",{attrs:{overlayMessage:e.overlayMessage,project:e.graphModel.project,metricName:e.$t(`metrics-${e.graphModel.metricId}-name`)}}):e._e()],1),e._v(" "),e.mobile||e.overlayMessage?e._e():t("div",{directives:[{name:"hint",rawName:"v-hint:help",value:e.fullscreen?"minimize":"maximize",expression:"fullscreen ? 'minimize' : 'maximize'",arg:"help"}],staticClass:"ui right floated icon button",on:{click:e.toggleFullscreen}},[t("i",{staticClass:"ui icon",class:{expand:!e.fullscreen,compress:e.fullscreen}})])],1)},[],!1,null,null,null).exports;var ie=i(1719);i(6001),i(2320);const ne={name:"detail-sidebar",props:["otherMetrics","graphModel"],data:()=>({wiki:{language:{}}}),components:{WikiSelector:s.A,RouterLink:ie.A,FilterSplit:Q,WikiButton:l},computed:Object.assign((0,a.L8)(["project"]),(0,a.aH)(["area","metric","selectingTime"]),(0,a.aH)("detail",["timeRange"]),{formattedDateRange(){const e=this.timeRange.timeKeyword;return e?this.$t(`time_range-${e}`):this.graphModel.getFormattedTimeRange()}}),methods:{toggleTimeSelection(){const e=!this.selectingTime;this.$store.commit("selectingTime",{selectingTime:e})},switchGranularity(){const e=this.graphModel.availableGranularities(),t=e.indexOf(this.graphModel.granularity),i=e[(t+1)%e.length];this.$store.commit("detail/granularity",{granularity:i})}}},ae=(0,r.A)(ne,function(){var e=this,t=e._self._c;return t("section",{staticClass:"left panel sidebar"},[t("div",{staticClass:"wikis"},[t("h3",{staticClass:"header"},[e._v("Wiki")]),e._v(" "),t("wiki-selector",{attrs:{single:!1}})],1),e._v(" "),e.graphModel?t("wiki-button",{staticClass:"time toggle",on:{click:e.toggleTimeSelection}},[t("i",{staticClass:"calendar alternate icon"}),e._v("\n        "+e._s(e.formattedDateRange)+"\n    ")]):e._e(),e._v(" "),e.graphModel&&e.graphModel.graphData?t("wiki-button",{staticClass:"time",class:{disabled:1===e.graphModel.availableGranularities().length},on:{click:e.switchGranularity}},[e._v("\n        "+e._s(e.$t(`granularities-${e.graphModel.granularity}`))+"\n    ")]):e._e(),e._v(" "),t("div",{staticClass:"ui clearing divider"}),e._v(" "),t("h3",{staticClass:"header"},[e._v(e._s(e.$t("detail_sidebar-metrics")))]),e._v(" "),t("div",{staticClass:"metricsList"},e._l(e.otherMetrics,function(i){return t("router-link",{key:i.name,attrs:{to:{project:e.project,area:e.area,metric:i.name}}},[t("wiki-button",{class:{pressed:i.name===e.metric}},[e._v("\n                "+e._s(e.$t(`metrics-${i.name}-name`))+"\n            ")])],1)}),1),e._v(" "),t("div",{staticClass:"ui clearing divider"}),e._v(" "),t("h3",{directives:[{name:"hint",rawName:"v-hint:filterAndSplit",arg:"filterAndSplit"}],staticClass:"header"},[e._v("Filter/split")]),e._v(" "),e.graphModel?t("filter-split"):e._e()],1)},[],!1,null,null,null).exports,oe={name:"time-preset-bar",props:["structure"],data:()=>({rangeNames:{timeseries:[{name:"all",granularity:"monthly"},{name:"2-year",granularity:"monthly"},{name:"1-year",granularity:"monthly"},{name:"3-month",granularity:"daily"},{name:"1-month",granularity:"daily"}],top:[{name:"last-month",granularity:"monthly"}]}}),computed:(0,a.aH)("detail",["timeRange"]),methods:{formatRangeName:e=>e.name.replace("-"," "),selectPeriod(e){const t=new f.A(e.name);this.$store.commit("detail/timeRange",{timeRange:t}),this.$store.commit("detail/granularity",{granularity:e.granularity})}}},se=(0,r.A)(oe,function(){var e=this,t=e._self._c;return t("div",{staticClass:"timepresetbar ui equal width grid"},e._l(e.rangeNames[e.structure],function(i){return t("div",{staticClass:"column"},[t("div",{staticClass:"ui label",class:{selected:i.name===e.timeRange.timeKeyword},on:{click:function(t){return e.selectPeriod(i)}}},[e._v(e._s(e.formatRangeName(i)))])])}),0)},[],!1,null,"0e243fd0",null).exports;var re=i(4692);const le={name:"time-selector-tooltip",props:["graphModel"],components:{TimeSelector:x,TimePresetBar:se},data:()=>({gracePeriod:null}),computed:Object.assign((0,a.aH)(["selectingTime"]),(0,a.aH)("detail",["timeRange"]),{timeSelectorPos(){const e=re(".left.panel .time.toggle"),t=e.width();return re(".timeselectorBox"),{top:e.position().top-22,left:e.position().left+t+40}}}),methods:{timeChanged(e){const t=new f.A(e);if("all"===e){const e=this.graphModel.config.knownStart;t.start=new Date(e)}this.$store.commit("detail/timeRange",{timeRange:t})},granularityChanged(e){this.$store.commit("detail/granularity",{granularity:e})},timeselectorBoxOut(e){this.gracePeriod=setTimeout(()=>{this.gracePeriod=null;const t=re(".timeselectorBox")[0];re(e.relatedTarget).parents().get().includes(t)||re(t).fadeOut(200,()=>{this.$store.commit("selectingTime",{selectingTime:!1})})},500)},timeselectorBoxIn(){this.gracePeriod&&(clearTimeout(this.gracePeriod),this.gracePeriod=null)}}},ce=(0,r.A)(le,function(){var e=this,t=e._self._c;return t("div",{staticClass:"timeselectorBox",style:{position:"absolute",top:e.timeSelectorPos.top+"px",left:e.timeSelectorPos.left+"px"},on:{mouseout:e.timeselectorBoxOut,mousemove:e.timeselectorBoxIn}},[t("p",{staticClass:"description"},[e._v("Select a time period for this metric:")]),e._v(" "),t("time-selector",{attrs:{width:400,height:25,graphModel:e.graphModel,mode:e.graphModel.config.structure,leftBound:new Date(e.graphModel.config.knownStart||"2001-01-01"),rightBound:new Date(e.graphModel.config.knownEnd||new Date),startDate:e.timeRange.start,endDate:e.timeRange.end,mainColor:e.graphModel.config.darkColor,secondaryColor:e.graphModel.config.lightColor},on:{"new-time":e.timeChanged}}),e._v(" "),t("time-preset-bar",{attrs:{structure:e.graphModel.config.structure,timeRange:e.timeRange,graphModel:e.graphModel},on:{"new-time":e.timeChanged,"new-granularity":e.granularityChanged}})],1)},[],!1,null,null,null).exports;var de=i(6768),ue=i(4692);const me={name:"filter-split-modal",components:{FilterSplit:Q},methods:{disableModal(){this.$store.commit("detail/dimensionsModalEnabled",!1)}},mounted(){ue(document).on("touchstart",e=>{this.$el.contains(e.target)||this.$store.commit("detail/dimensionsModalEnabled",!1),e.stopPropagation()})},destroyed(){ue(document).off("touchstart")}},he=(0,r.A)(me,function(){var e=this,t=e._self._c;return t("div",{staticClass:"filtersplit modal"},[t("div",{staticClass:"header"},[t("h3",[e._v("Filter/split")]),e._v(" "),t("i",{staticClass:"close icon",on:{click:e.disableModal}})]),e._v(" "),t("div",{staticClass:"container"},[t("filter-split")],1)])},[],!1,null,null,null).exports;var ge=i(678),pe=i(4692);const fe={name:"detail",components:{GraphPanel:te,DetailSidebar:ae,MetricsDropdown:u,FilterSplitModal:he,TimeSelectorTooltip:ce},mixins:[ge.A],data:()=>({graphModel:null,defaultMetrics:{contributing:"active-editors",reading:"total-pageviews",content:"total-articles"}}),computed:Object.assign((0,a.L8)(["project"]),(0,a.aH)(["area","metric","selectingTime"]),(0,a.aH)("dimensions",["dimensions"]),(0,a.aH)("detail",["fullscreen","breakdown","timeRange","granularity","dimensionsModalEnabled"]),{metricParameters(){return{project:this.project,area:this.area,metric:this.metric,metricConfig:c.A.metricConfig(this.metric)}},dataParameters(){return{breakdown:this.graphModel?this.graphModel.activeBreakdown:null}},mobile(){return"mobile"===this.$mq},compact(){return["mobile","compact"].indexOf(this.$mq)>-1},annotationsLink(){return c.A.annotationHumanPath(this.metric)},otherMetrics(){return Object.keys(c.A.metrics).filter(e=>c.A.metrics[e].area===this.area).map(e=>Object.assign({},c.A.metrics[e],{name:e}))},overlayMessage(){return this.graphModel&&this.graphModel.status}}),watch:{granularity(){this.graphModel.setGranularity(this.granularity),this.$store.commit("detail/timeRange",{timeRange:this.timeRange})},overlayMessage(){this.overlayMessage&&this.overlayMessage!==o.A.LOADING&&this.$store.commit("detail/fullscreen",{fullscreen:!1})},timeRange(){this.graphModel.setTimeRange(this.timeRange)},project(){this.graphModel.setProject(this.project)},dataParameters:{handler(){this.$store.commit("detail/breakdown",{breakdown:this.graphModel.activeBreakdown}),this.loadData()},deep:!0},dimensions:{handler(){this.loadData()},deep:!0}},mounted(){pe("body").scrollTop(0),n.Ay.nextTick(()=>this.buildGraphModel())},methods:{buildGraphModel(e){const t=c.A.metricConfig(this.metric);if(this.graphModel=new de.A(this.project,this.metric),this.graphModel.granularity=this.granularity,this.graphModel.dimensions=this.dimensions,t.knownEnd){const e=new f.A([t.knownStart,t.knownEnd]);this.$store.commit("detail/timeRange",{timeRange:e}),this.graphModel.timeRange=e}if(this.timeRange.isOutOfMetricBounds(t)){const e=f.A.getDefaultTimeRange(t);this.$store.commit("detail/timeRange",{timeRange:e}),this.graphModel.timeRange=e}this.breakdown&&this.graphModel.activateBreakdownIfAvailable(this.breakdown),this.graphModel.timeRange=this.timeRange},loadData(){this.graphModel.loadData({annotations:!0},this.dimensions)}}},ve=(0,r.A)(fe,function(){var e=this,t=e._self._c;return t("div",[t("section",{staticClass:"detail container",class:{area:e.area,fullscreen:e.fullscreen}},[e.compact||e.fullscreen?e._e():t("detail-sidebar",{attrs:{otherMetrics:e.otherMetrics,graphModel:e.graphModel}}),e._v(" "),e.graphModel&&e.graphModel.graphData?t("graph-panel",{attrs:{granularity:e.granularity,graphModel:e.graphModel,annotationsLink:e.annotationsLink,overlayMessage:e.overlayMessage}}):e._e()],1),e._v(" "),t("transition",{attrs:{name:"filter-modal-transition"}},[e.dimensionsModalEnabled?t("filter-split-modal",{staticClass:"filtersplitmodal"}):e._e()],1),e._v(" "),!e.mobile&&e.selectingTime?t("time-selector-tooltip",{attrs:{graphModel:e.graphModel}}):e._e()],1)},[],!1,null,null,null).exports},6001:(e,t,i)=>{!function(e,t,i,n){"use strict";e.isFunction=e.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.modal=function(a){var o,s=e(this),r=e(t),l=e(i),c=e("body"),d=s.selector||"",u=(new Date).getTime(),m=[],h=arguments[0],g="string"==typeof h,p=[].slice.call(arguments,1),f=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return s.each(function(){var s,v,b,y,w,C,_,x,M,k,T,S=e.isPlainObject(a)?e.extend(!0,{},e.fn.modal.settings,a):e.extend({},e.fn.modal.settings),A=S.selector,D=S.className,F=S.namespace,R=S.fields,$=S.error,O="."+F,P="module-"+F,B=e(this),L=e(S.context),H=B.find(A.close),j=this,N=B.hasClass("modal")?B.data(P):n,E=!1,V="",z="";T={initialize:function(){if(B.hasClass("modal")||(T.create.modal(),e.isFunction(S.onHidden)||(S.onHidden=function(){T.destroy(),B.remove()})),B.addClass(S.class),""!==S.title&&B.find(A.title).html(T.helpers.escape(S.title,S.preserveHTML)).addClass(S.classTitle),""!==S.content&&B.find(A.content).html(T.helpers.escape(S.content,S.preserveHTML)).addClass(S.classContent),T.has.configActions()){var t=B.find(A.actions).addClass(S.classActions);0===t.length?t=e("<div/>",{class:D.actions+" "+(S.classActions||"")}).appendTo(B):t.empty(),S.actions.forEach(function(i){var n=i[R.icon]?'<i class="'+T.helpers.deQuote(i[R.icon])+' icon"></i>':"",a=T.helpers.escape(i[R.text]||"",S.preserveHTML),o=T.helpers.deQuote(i[R.class]||""),s=i[R.click]&&e.isFunction(i[R.click])?i[R.click]:function(){};t.append(e("<button/>",{html:n+a,class:D.button+" "+o,click:function(){!1!==s.call(j,B)&&T.hide()}}))})}T.cache={},T.verbose("Initializing dimmer",L),T.create.id(),T.create.dimmer(),S.allowMultiple&&T.create.innerDimmer(),S.centered||B.addClass("top aligned"),T.refreshModals(),T.bind.events(),S.observeChanges&&T.observeChanges(),T.instantiate(),S.autoShow&&T.show()},instantiate:function(){T.verbose("Storing instance of modal"),N=T,B.data(P,N)},create:{modal:function(){B=e("<div/>",{class:D.modal}),S.closeIcon&&(H=e("<i/>",{class:D.close}),B.append(H)),""!==S.title&&e("<div/>",{class:D.title}).appendTo(B),""!==S.content&&e("<div/>",{class:D.content}).appendTo(B),T.has.configActions()&&e("<div/>",{class:D.actions}).appendTo(B),L.append(B)},dimmer:function(){var t={debug:S.debug,dimmerName:"modals"},i=e.extend(!0,t,S.dimmerSettings);e.fn.dimmer!==n?(T.debug("Creating dimmer"),y=L.dimmer(i),S.detachable?(T.verbose("Modal is detachable, moving content into dimmer"),y.dimmer("add content",B)):T.set.undetached(),w=y.dimmer("get dimmer")):T.error($.dimmer)},id:function(){M=(Math.random().toString(16)+"000000000").substr(2,8),x="."+M,T.verbose("Creating unique id for element",M)},innerDimmer:function(){0==B.find(A.dimmer).length&&B.prepend('<div class="ui inverted dimmer"></div>')}},destroy:function(){k&&k.disconnect(),T.verbose("Destroying previous modal"),B.removeData(P).off(O),r.off(x),w.off(x),H.off(O),L.dimmer("destroy")},observeChanges:function(){"MutationObserver"in t&&((k=new MutationObserver(function(e){T.debug("DOM tree modified, refreshing"),T.refresh()})).observe(j,{childList:!0,subtree:!0}),T.debug("Setting up mutation observer",k))},refresh:function(){T.remove.scrolling(),T.cacheSizes(),T.can.useFlex()||T.set.modalOffset(),T.set.screenHeight(),T.set.type()},refreshModals:function(){v=B.siblings(A.modal),s=v.add(B)},attachEvents:function(t,i){var n=e(t);i=e.isFunction(T[i])?T[i]:T.toggle,n.length>0?(T.debug("Attaching modal events to element",t,i),n.off(O).on("click"+O,i)):T.error($.notFound,t)},bind:{events:function(){T.verbose("Attaching events"),B.on("click"+O,A.close,T.event.close).on("click"+O,A.approve,T.event.approve).on("click"+O,A.deny,T.event.deny),r.on("resize"+x,T.event.resize)},scrollLock:function(){y.get(0).addEventListener("touchmove",T.event.preventScroll,{passive:!1})}},unbind:{scrollLock:function(){y.get(0).removeEventListener("touchmove",T.event.preventScroll,{passive:!1})}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)},element:function(){return B},settings:function(){return S}},event:{approve:function(){E||!1===S.onApprove.call(j,e(this))?T.verbose("Approve callback returned false cancelling hide"):(E=!0,T.hide(function(){E=!1}))},preventScroll:function(e){-1!==e.target.className.indexOf("dimmer")&&e.preventDefault()},deny:function(){E||!1===S.onDeny.call(j,e(this))?T.verbose("Deny callback returned false cancelling hide"):(E=!0,T.hide(function(){E=!1}))},close:function(){T.hide()},mousedown:function(i){var n=e(i.target),a=T.is.rtl();(C=n.closest(A.modal).length>0)&&T.verbose("Mouse down event registered inside the modal"),(_=T.is.scrolling()&&(!a&&e(t).outerWidth()-S.scrollbarWidth<=i.clientX||a&&S.scrollbarWidth>=i.clientX))&&T.verbose("Mouse down event registered inside the scrollbar")},mouseup:function(t){if(S.closable)if(C)T.debug("Dimmer clicked but mouse down was initially registered inside the modal");else if(_)T.debug("Dimmer clicked but mouse down was initially registered inside the scrollbar");else{var n=e(t.target).closest(A.modal).length>0,a=e.contains(i.documentElement,t.target);if(!n&&a&&T.is.active()&&B.hasClass(D.front)){if(T.debug("Dimmer clicked, hiding all modals"),S.allowMultiple){if(!T.hideAll())return}else if(!T.hide())return;T.remove.clickaway()}}else T.verbose("Dimmer clicked but closable setting is disabled")},debounce:function(e,t){clearTimeout(T.timer),T.timer=setTimeout(e,t)},keyboard:function(e){27==e.which&&(S.closable?(T.debug("Escape key pressed hiding modal"),B.hasClass(D.front)&&T.hide()):T.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){y.dimmer("is active")&&(T.is.animating()||T.is.active())&&f(T.refresh)}},toggle:function(){T.is.active()||T.is.animating()?T.hide():T.show()},show:function(t){t=e.isFunction(t)?t:function(){},T.refreshModals(),T.set.dimmerSettings(),T.set.dimmerStyles(),T.showModal(t)},hide:function(t){return t=e.isFunction(t)?t:function(){},T.refreshModals(),T.hideModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},T.is.animating()||!T.is.active()?(T.showDimmer(),T.cacheSizes(),T.set.bodyMargin(),T.can.useFlex()?T.remove.legacy():(T.set.legacy(),T.set.modalOffset(),T.debug("Using non-flex legacy modal positioning.")),T.set.screenHeight(),T.set.type(),T.set.clickaway(),!S.allowMultiple&&T.others.active()?T.hideOthers(T.showModal):(E=!1,S.allowMultiple&&(T.others.active()&&v.filter("."+D.active).find(A.dimmer).addClass("active"),S.detachable&&B.detach().appendTo(w)),S.onShow.call(j),S.transition&&e.fn.transition!==n&&B.transition("is supported")?(T.debug("Showing modal with css animations"),B.transition({debug:S.debug,animation:(S.transition.showMethod||S.transition)+" in",queue:S.queue,duration:S.transition.showDuration||S.duration,useFailSafe:!0,onComplete:function(){S.onVisible.apply(j),S.keyboardShortcuts&&T.add.keyboardShortcuts(),T.save.focus(),T.set.active(),S.autofocus&&T.set.autofocus(),t()}})):T.error($.noTransition))):T.debug("Modal is already visible")},hideModal:function(t,i,a){var o=v.filter("."+D.active).last();if(t=e.isFunction(t)?t:function(){},T.debug("Hiding modal"),!1===S.onHide.call(j,e(this)))return T.verbose("Hide callback returned false cancelling hide"),E=!1,!1;(T.is.animating()||T.is.active())&&(S.transition&&e.fn.transition!==n&&B.transition("is supported")?(T.remove.active(),B.transition({debug:S.debug,animation:(S.transition.hideMethod||S.transition)+" out",queue:S.queue,duration:S.transition.hideDuration||S.duration,useFailSafe:!0,onStart:function(){T.others.active()||T.others.animating()||i||T.hideDimmer(),S.keyboardShortcuts&&!T.others.active()&&T.remove.keyboardShortcuts()},onComplete:function(){T.unbind.scrollLock(),S.allowMultiple&&(o.addClass(D.front),B.removeClass(D.front),a?s.find(A.dimmer).removeClass("active"):o.find(A.dimmer).removeClass("active")),e.isFunction(S.onHidden)&&S.onHidden.call(j),T.remove.dimmerStyles(),T.restore.focus(),t()}})):T.error($.noTransition))},showDimmer:function(){y.dimmer("is animating")||!y.dimmer("is active")?(T.save.bodyMargin(),T.debug("Showing dimmer"),y.dimmer("show")):T.debug("Dimmer already visible")},hideDimmer:function(){y.dimmer("is animating")||y.dimmer("is active")?(T.unbind.scrollLock(),y.dimmer("hide",function(){T.restore.bodyMargin(),T.remove.clickaway(),T.remove.screenHeight()})):T.debug("Dimmer is not visible cannot hide")},hideAll:function(t){var i=s.filter("."+D.active+", ."+D.animating);if(t=e.isFunction(t)?t:function(){},i.length>0){T.debug("Hiding all visible modals");var n=!0;return e(i.get().reverse()).each(function(i,a){n&&(n=e(a).modal("hide modal",t,!1,!0))}),n&&T.hideDimmer(),n}},hideOthers:function(t){var i=v.filter("."+D.active+", ."+D.animating);t=e.isFunction(t)?t:function(){},i.length>0&&(T.debug("Hiding other modals",v),i.modal("hide modal",t,!0))},others:{active:function(){return v.filter("."+D.active).length>0},animating:function(){return v.filter("."+D.animating).length>0}},add:{keyboardShortcuts:function(){T.verbose("Adding keyboard shortcuts"),l.on("keyup"+O,T.event.keyboard)}},save:{focus:function(){e(i.activeElement).closest(B).length>0||(b=e(i.activeElement).blur())},bodyMargin:function(){V=c.css("margin-"+(T.can.leftBodyScrollbar()?"left":"right"));var e=parseInt(V.replace(/[^\d.]/g,"")),n=t.innerWidth-i.documentElement.clientWidth;z=e+n}},restore:{focus:function(){b&&b.length>0&&S.restoreFocus&&b.focus()},bodyMargin:function(){var t=T.can.leftBodyScrollbar()?"left":"right";c.css("margin-"+t,V),c.find(A.bodyFixed.replace("right",t)).each(function(){var i=e(this),n="fixed"===i.css("position")?"padding-"+t:t;i.css(n,"")})}},remove:{active:function(){B.removeClass(D.active)},legacy:function(){B.removeClass(D.legacy)},clickaway:function(){S.detachable||B.off("mousedown"+x),w.off("mousedown"+x),w.off("mouseup"+x)},dimmerStyles:function(){w.removeClass(D.inverted),y.removeClass(D.blurring)},bodyStyle:function(){""===c.attr("style")&&(T.verbose("Removing style attribute"),c.removeAttr("style"))},screenHeight:function(){T.debug("Removing page height"),c.css("height","")},keyboardShortcuts:function(){T.verbose("Removing keyboard shortcuts"),l.off("keyup"+O)},scrolling:function(){y.removeClass(D.scrolling),B.removeClass(D.scrolling)}},cacheSizes:function(){B.addClass(D.loading);var a=B.prop("scrollHeight"),o=B.outerWidth(),s=B.outerHeight();T.cache.pageHeight!==n&&0===s||(e.extend(T.cache,{pageHeight:e(i).outerHeight(),width:o,height:s+S.offset,scrollHeight:a+S.offset,contextHeight:"body"==S.context?e(t).height():y.height()}),T.cache.topOffset=-T.cache.height/2),B.removeClass(D.loading),T.debug("Caching modal and container sizes",T.cache)},helpers:{deQuote:function(e){return String(e).replace(/"/g,"")},escape:function(e,t){if(t)return e;var i={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(e)?(e=e.replace(/&(?![a-z0-9#]{1,6};)/,"&amp;")).replace(/[<>"'`]/g,function(e){return i[e]}):e}},can:{leftBodyScrollbar:function(){return T.cache.leftBodyScrollbar===n&&(T.cache.leftBodyScrollbar=T.is.rtl()&&(T.is.iframe&&!T.is.firefox()||T.is.safari()||T.is.edge()||T.is.ie())),T.cache.leftBodyScrollbar},useFlex:function(){return"auto"===S.useFlex?S.detachable&&!T.is.ie():(S.useFlex&&T.is.ie()?T.debug("useFlex true is not supported in IE"):S.useFlex&&!S.detachable&&T.debug("useFlex true in combination with detachable false is not supported"),S.useFlex)},fit:function(){var e=T.cache.contextHeight,t=T.cache.contextHeight/2,i=T.cache.topOffset,n=T.cache.scrollHeight,a=T.cache.height,o=S.padding;return n>a?t+i+n+o<e:a+2*o<e}},has:{configActions:function(){return Array.isArray(S.actions)&&S.actions.length>0}},is:{active:function(){return B.hasClass(D.active)},ie:function(){if(T.cache.isIE===n){var e=!t.ActiveXObject&&"ActiveXObject"in t,i="ActiveXObject"in t;T.cache.isIE=e||i}return T.cache.isIE},animating:function(){return B.transition("is supported")?B.transition("is animating"):B.is(":visible")},scrolling:function(){return y.hasClass(D.scrolling)},modernBrowser:function(){return!(t.ActiveXObject||"ActiveXObject"in t)},rtl:function(){return T.cache.isRTL===n&&(T.cache.isRTL="rtl"===c.attr("dir")||"rtl"===c.css("direction")),T.cache.isRTL},safari:function(){return T.cache.isSafari===n&&(T.cache.isSafari=/constructor/i.test(t.HTMLElement)||!!t.ApplePaySession),T.cache.isSafari},edge:function(){return T.cache.isEdge===n&&(T.cache.isEdge=!!t.setImmediate&&!T.is.ie()),T.cache.isEdge},firefox:function(){return T.cache.isFirefox===n&&(T.cache.isFirefox=!!t.InstallTrigger),T.cache.isFirefox},iframe:function(){return!(self===top)}},set:{autofocus:function(){var t=B.find("[tabindex], :input").filter(":visible").filter(function(){return 0===e(this).closest(".disabled").length}),i=t.filter("[autofocus]"),n=i.length>0?i.first():t.first();n.length>0&&n.focus()},bodyMargin:function(){var t=T.can.leftBodyScrollbar()?"left":"right";(S.detachable||T.can.fit())&&c.css("margin-"+t,z+"px"),c.find(A.bodyFixed.replace("right",t)).each(function(){var i=e(this),n="fixed"===i.css("position")?"padding-"+t:t;i.css(n,"calc("+i.css(n)+" + "+z+"px)")})},clickaway:function(){S.detachable||B.on("mousedown"+x,T.event.mousedown),w.on("mousedown"+x,T.event.mousedown),w.on("mouseup"+x,T.event.mouseup)},dimmerSettings:function(){if(e.fn.dimmer!==n){var t={debug:S.debug,dimmerName:"modals",closable:"auto",useFlex:T.can.useFlex(),duration:{show:S.transition.showDuration||S.duration,hide:S.transition.hideDuration||S.duration}},i=e.extend(!0,t,S.dimmerSettings);S.inverted&&(i.variation=i.variation!==n?i.variation+" inverted":"inverted"),L.dimmer("setting",i)}else T.error($.dimmer)},dimmerStyles:function(){S.inverted?w.addClass(D.inverted):w.removeClass(D.inverted),S.blurring?y.addClass(D.blurring):y.removeClass(D.blurring)},modalOffset:function(){if(S.detachable)B.css({marginTop:!B.hasClass("aligned")&&T.can.fit()?-T.cache.height/2:S.padding/2,marginLeft:-T.cache.width/2});else{var t=T.can.fit();B.css({top:!B.hasClass("aligned")&&t?e(i).scrollTop()+(T.cache.contextHeight-T.cache.height)/2:!t||B.hasClass("top")?e(i).scrollTop()+S.padding:e(i).scrollTop()+(T.cache.contextHeight-T.cache.height-S.padding),marginLeft:-T.cache.width/2})}T.verbose("Setting modal offset for legacy mode")},screenHeight:function(){T.can.fit()?c.css("height",""):B.hasClass("bottom")||(T.debug("Modal is taller than page content, resizing page height"),c.css("height",T.cache.height+2*S.padding))},active:function(){B.addClass(D.active+" "+D.front),v.filter("."+D.active).removeClass(D.front)},scrolling:function(){y.addClass(D.scrolling),B.addClass(D.scrolling),T.unbind.scrollLock()},legacy:function(){B.addClass(D.legacy)},type:function(){T.can.fit()?(T.verbose("Modal fits on screen"),T.others.active()||T.others.animating()||(T.remove.scrolling(),T.bind.scrollLock())):B.hasClass("bottom")?T.verbose("Bottom aligned modal not fitting on screen is unsupported for scrolling"):(T.verbose("Modal cannot fit on screen setting to scrolling"),T.set.scrolling())},undetached:function(){y.addClass(D.undetached)}},setting:function(t,i){if(T.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,S,t);else{if(i===n)return S[t];e.isPlainObject(S[t])?e.extend(!0,S[t],i):S[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,T,t);else{if(i===n)return T[t];T[t]=i}},debug:function(){!S.silent&&S.debug&&(S.performance?T.performance.log(arguments):(T.debug=Function.prototype.bind.call(console.info,console,S.name+":"),T.debug.apply(console,arguments)))},verbose:function(){!S.silent&&S.verbose&&S.debug&&(S.performance?T.performance.log(arguments):(T.verbose=Function.prototype.bind.call(console.info,console,S.name+":"),T.verbose.apply(console,arguments)))},error:function(){S.silent||(T.error=Function.prototype.bind.call(console.error,console,S.name+":"),T.error.apply(console,arguments))},performance:{log:function(e){var t,i;S.performance&&(i=(t=(new Date).getTime())-(u||t),u=t,m.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:j,"Execution Time":i})),clearTimeout(T.performance.timer),T.performance.timer=setTimeout(T.performance.display,500)},display:function(){var t=S.name+":",i=0;u=!1,clearTimeout(T.performance.timer),e.each(m,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",d&&(t+=" '"+d+"'"),(console.group!==n||console.table!==n)&&m.length>0&&(console.groupCollapsed(t),console.table?console.table(m):e.each(m,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(t,i,a){var s,r,l,c=N;return i=i||p,a=j||a,"string"==typeof t&&c!==n&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,a){var o=i!=s?a+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(c[o])&&i!=s)c=c[o];else{if(c[o]!==n)return r=c[o],!1;if(!e.isPlainObject(c[a])||i==s)return c[a]!==n&&(r=c[a],!1);c=c[a]}})),e.isFunction(r)?l=r.apply(a,i):r!==n&&(l=r),Array.isArray(o)?o.push(l):o!==n?o=[o,l]:l!==n&&(o=l),r}},g?(N===n&&(e.isFunction(S.templates[h])&&(S.autoShow=!0,S.className.modal=S.className.template,S=e.extend(!0,{},S,S.templates[h].apply(T,p)),D=S.className,F=S.namespace,R=S.fields,$=S.error),T.initialize()),e.isFunction(S.templates[h])||T.invoke(h)):(N!==n&&N.invoke("destroy"),T.initialize(),o=B)}),o!==n?o:this},e.fn.modal.settings={name:"Modal",namespace:"modal",useFlex:"auto",offset:0,silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,restoreFocus:!0,autoShow:!1,inverted:!1,blurring:!1,centered:!0,dimmerSettings:{closable:!1,useCSS:!0},keyboardShortcuts:!0,context:"body",queue:!1,duration:500,transition:"scale",padding:50,scrollbarWidth:10,title:"",content:"",class:"",classTitle:"",classContent:"",classActions:"",closeIcon:!1,actions:!1,preserveHTML:!0,fields:{class:"class",text:"text",icon:"icon",click:"click"},onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:!1,onApprove:function(){return!0},onDeny:function(){return!0},selector:{title:"> .header",content:"> .content",actions:"> .actions",close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal",dimmer:"> .ui.dimmer",bodyFixed:"> .ui.fixed.menu, > .ui.right.toast-container, > .ui.right.sidebar, > .ui.fixed.nag, > .ui.fixed.nag > .close",prompt:".ui.input > input"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",inverted:"inverted",legacy:"legacy",loading:"loading",scrolling:"scrolling",undetached:"undetached",front:"front",close:"close icon",button:"ui button",modal:"ui modal",title:"header",content:"content",actions:"actions",template:"ui tiny modal",ok:"positive",cancel:"negative",prompt:"ui fluid input"},text:{ok:"Ok",cancel:"Cancel"}},e.fn.modal.settings.templates={getArguments:function(t){var i=[].slice.call(t);return e.isPlainObject(i[0])?e.extend({handler:function(){},content:"",title:""},i[0]):(e.isFunction(i[i.length-1])||i.push(function(){}),{handler:i.pop(),content:i.pop()||"",title:i.pop()||""})},alert:function(){var e=this.get.settings(),t=e.templates.getArguments(arguments);return{title:t.title,content:t.content,actions:[{text:e.text.ok,class:e.className.ok,click:t.handler}]}},confirm:function(){var e=this.get.settings(),t=e.templates.getArguments(arguments);return{title:t.title,content:t.content,actions:[{text:e.text.ok,class:e.className.ok,click:function(){t.handler(!0)}},{text:e.text.cancel,class:e.className.cancel,click:function(){t.handler(!1)}}]}},prompt:function(){var t=this,i=this.get.settings(),n=i.templates.getArguments(arguments);return 0===e(e.parseHTML(n.content)).filter(".ui.input").length&&(n.content+='<p><div class="'+i.className.prompt+'"><input placeholder="'+this.helpers.deQuote(n.placeholder||"")+'" type="text" value="'+this.helpers.deQuote(n.defaultValue||"")+'"></div></p>'),{title:n.title,content:n.content,actions:[{text:i.text.ok,class:i.className.ok,click:function(){var i=t.get.settings(),a=t.get.element().find(i.selector.prompt)[0];n.handler(e(a).val())}},{text:i.text.cancel,class:i.className.cancel,click:function(){n.handler(null)}}]}}}}(i(4692),window,document)}}]);